import sys
import rclpy
from rclpy.node import Node
from geometry_msgs.msg import Twist
from .turtle_bot import TurtleBot



class TurtleBotManual():
    
    def __init__(self):
        # super().__init__('turtle_bot_manual')
        self.publisher_ = self.create_publisher(Twist, 'cmd_vel', 1)
        timer_period = 0.5  # seconds
        self.timer_ = self.create_timer(timer_period, self.publish_message)

    def publish_message(self):
        message = Twist()
        message.linear.x = 0.5 #float(sys.argv[1])
        message.angular.z = 0.0
        #self.get_logger().info('Sending - Linear Velocity : %f, Angular Velocity : %f' % (message.linear.x, message.angular.z))
        self.publisher_.publish(message)

    def run(self):
        message = Twist()
        message.linear.x = 0.5 #float(sys.argv[1])
        self.publisher_.publish(message)
        

# def main(args=None):
#     rclpy.init(args=args)
#     minimal_publisher = MinimalPublisher()
#     rclpy.spin(minimal_publisher)
#     minimal_publisher.destroy_node()
#     rclpy.shutdown()

